{% extends "@LiePayroll/payroll/_layout.html.twig" %}
{% block page_content %}
<div class="container-xl">
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h3 class="card-title">Payroll Übersicht – Monat: {{ month }}</h3>
      <form method="get" class="d-flex gap-2">
        <input class="form-control" type="month" name="month" value="{{ month }}">
        <button class="btn btn-primary">Wechseln</button>
      </form>
    </div>
    <div class="table-responsive">
      <table class="table card-table table-striped">
        <thead><tr><th>Mitarbeiter</th><th>Aktionen</th></tr></thead>
        <tbody>
        {% for u in users %}
          <tr>
            <td>{{ u.displayName }}</td>
            <td class="d-flex gap-2">
              <a class="btn btn-outline-primary btn-sm" href="{{ path("lie_payroll_show", {id: u.id, month: month}) }}">Anzeigen</a>
              <a class="btn btn-outline-secondary btn-sm" href="{{ path("lie_payroll_recalculate", {id: u.id, month: month}) }}">Neu berechnen</a>
              <a class="btn btn-outline-success btn-sm" href="{{ path("lie_payroll_payslip", {id: u.id, month: month}) }}" target="_blank">Lohnblatt</a>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
